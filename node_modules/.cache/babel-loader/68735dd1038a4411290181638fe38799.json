{"remainingRequest":"/Users/msaqib/vue-ChatProject/node_modules/babel-loader/lib/index.js!/Users/msaqib/vue-ChatProject/node_modules/vue-loader-v16/dist/templateLoader.js??ref--6!/Users/msaqib/vue-ChatProject/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/msaqib/vue-ChatProject/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/msaqib/vue-ChatProject/src/components/Chat.vue?vue&type=template&id=2bc3d388","dependencies":[{"path":"/Users/msaqib/vue-ChatProject/src/components/Chat.vue","mtime":1626831848300},{"path":"/Users/msaqib/vue-ChatProject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msaqib/vue-ChatProject/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/msaqib/vue-ChatProject/node_modules/vue-loader-v16/dist/templateLoader.js","mtime":499162500000},{"path":"/Users/msaqib/vue-ChatProject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msaqib/vue-ChatProject/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVuZGVyTGlzdCBhcyBfcmVuZGVyTGlzdCwgRnJhZ21lbnQgYXMgX0ZyYWdtZW50LCBvcGVuQmxvY2sgYXMgX29wZW5CbG9jaywgY3JlYXRlQmxvY2sgYXMgX2NyZWF0ZUJsb2NrLCB0b0Rpc3BsYXlTdHJpbmcgYXMgX3RvRGlzcGxheVN0cmluZywgY3JlYXRlVGV4dFZOb2RlIGFzIF9jcmVhdGVUZXh0Vk5vZGUsIHJlc29sdmVDb21wb25lbnQgYXMgX3Jlc29sdmVDb21wb25lbnQsIHdpdGhDdHggYXMgX3dpdGhDdHgsIGNyZWF0ZVZOb2RlIGFzIF9jcmVhdGVWTm9kZSwgdk1vZGVsVGV4dCBhcyBfdk1vZGVsVGV4dCwgd2l0aERpcmVjdGl2ZXMgYXMgX3dpdGhEaXJlY3RpdmVzLCB3aXRoTW9kaWZpZXJzIGFzIF93aXRoTW9kaWZpZXJzLCBjcmVhdGVDb21tZW50Vk5vZGUgYXMgX2NyZWF0ZUNvbW1lbnRWTm9kZSB9IGZyb20gInZ1ZSI7CnZhciBfaG9pc3RlZF8xID0gewogICJjbGFzcyI6ICJjb250YWluZXItc20gbXQtMjAiCn07CnZhciBfaG9pc3RlZF8yID0gewogICJjbGFzcyI6ICJteC01Igp9Owp2YXIgX2hvaXN0ZWRfMyA9IHsKICByZWY6ICJib3R0b20iLAogICJjbGFzcyI6ICJtdC0yMCIKfTsKdmFyIF9ob2lzdGVkXzQgPSB7CiAgImNsYXNzIjogImJvdHRvbSIKfTsKdmFyIF9ob2lzdGVkXzUgPSB7CiAgImNsYXNzIjogImNvbnRhaW5lci1zbSIKfTsKdmFyIF9ob2lzdGVkXzYgPSB7CiAgdHlwZTogInN1Ym1pdCIKfTsKZXhwb3J0IGZ1bmN0aW9uIHJlbmRlcihfY3R4LCBfY2FjaGUsICRwcm9wcywgJHNldHVwLCAkZGF0YSwgJG9wdGlvbnMpIHsKICB2YXIgX2NvbXBvbmVudF9NZXNzYWdlID0gX3Jlc29sdmVDb21wb25lbnQoIk1lc3NhZ2UiKTsKCiAgdmFyIF9jb21wb25lbnRfU2VuZEljb24gPSBfcmVzb2x2ZUNvbXBvbmVudCgiU2VuZEljb24iKTsKCiAgcmV0dXJuIF9vcGVuQmxvY2soKSwgX2NyZWF0ZUJsb2NrKF9GcmFnbWVudCwgbnVsbCwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMSwgW19jcmVhdGVWTm9kZSgiZGl2IiwgX2hvaXN0ZWRfMiwgWyhfb3BlbkJsb2NrKHRydWUpLCBfY3JlYXRlQmxvY2soX0ZyYWdtZW50LCBudWxsLCBfcmVuZGVyTGlzdCgkc2V0dXAubWVzc2FnZXMsIGZ1bmN0aW9uIChfcmVmKSB7CiAgICB2YXIgXyRzZXR1cCR1c2VyOwoKICAgIHZhciBpZCA9IF9yZWYuaWQsCiAgICAgICAgdGV4dCA9IF9yZWYudGV4dCwKICAgICAgICB1c2VyUGhvdG9VUkwgPSBfcmVmLnVzZXJQaG90b1VSTCwKICAgICAgICB1c2VyTmFtZSA9IF9yZWYudXNlck5hbWUsCiAgICAgICAgdXNlcklkID0gX3JlZi51c2VySWQ7CiAgICByZXR1cm4gX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soX2NvbXBvbmVudF9NZXNzYWdlLCB7CiAgICAgIGtleTogaWQsCiAgICAgIG5hbWU6IHVzZXJOYW1lLAogICAgICAicGhvdG8tdXJsIjogdXNlclBob3RvVVJMLAogICAgICBzZW5kZXI6IHVzZXJJZCA9PT0gKChfJHNldHVwJHVzZXIgPSAkc2V0dXAudXNlcikgPT09IG51bGwgfHwgXyRzZXR1cCR1c2VyID09PSB2b2lkIDAgPyB2b2lkIDAgOiBfJHNldHVwJHVzZXIudWlkKQogICAgfSwgewogICAgICAiZGVmYXVsdCI6IF93aXRoQ3R4KGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gW19jcmVhdGVUZXh0Vk5vZGUoX3RvRGlzcGxheVN0cmluZyh0ZXh0KSwgMQogICAgICAgIC8qIFRFWFQgKi8KICAgICAgICApXTsKICAgICAgfSksCiAgICAgIF86IDIKICAgICAgLyogRFlOQU1JQyAqLwoKICAgIH0sIDEwMzIKICAgIC8qIFBST1BTLCBEWU5BTUlDX1NMT1RTICovCiAgICAsIFsibmFtZSIsICJwaG90by11cmwiLCAic2VuZGVyIl0pOwogIH0pLCAxMjgKICAvKiBLRVlFRF9GUkFHTUVOVCAqLwogICkpXSldKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF8zLCBudWxsLCA1MTIKICAvKiBORUVEX1BBVENIICovCiAgKSwgX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF80LCBbX2NyZWF0ZVZOb2RlKCJkaXYiLCBfaG9pc3RlZF81LCBbJHNldHVwLmlzTG9naW4gPyAoX29wZW5CbG9jaygpLCBfY3JlYXRlQmxvY2soImZvcm0iLCB7CiAgICBrZXk6IDAsCiAgICBvblN1Ym1pdDogX2NhY2hlWzJdIHx8IChfY2FjaGVbMl0gPSBfd2l0aE1vZGlmaWVycyhmdW5jdGlvbiAoKSB7CiAgICAgIHJldHVybiAkc2V0dXAuc2VuZCAmJiAkc2V0dXAuc2VuZC5hcHBseSgkc2V0dXAsIGFyZ3VtZW50cyk7CiAgICB9LCBbInByZXZlbnQiXSkpCiAgfSwgW193aXRoRGlyZWN0aXZlcyhfY3JlYXRlVk5vZGUoImlucHV0IiwgewogICAgIm9uVXBkYXRlOm1vZGVsVmFsdWUiOiBfY2FjaGVbMV0gfHwgKF9jYWNoZVsxXSA9IGZ1bmN0aW9uICgkZXZlbnQpIHsKICAgICAgcmV0dXJuICRzZXR1cC5tZXNzYWdlID0gJGV2ZW50OwogICAgfSksCiAgICBwbGFjZWhvbGRlcjogIk1lc3NhZ2UiLAogICAgcmVxdWlyZWQ6ICIiCiAgfSwgbnVsbCwgNTEyCiAgLyogTkVFRF9QQVRDSCAqLwogICksIFtbX3ZNb2RlbFRleHQsICRzZXR1cC5tZXNzYWdlXV0pLCBfY3JlYXRlVk5vZGUoImJ1dHRvbiIsIF9ob2lzdGVkXzYsIFtfY3JlYXRlVk5vZGUoX2NvbXBvbmVudF9TZW5kSWNvbildKV0sIDMyCiAgLyogSFlEUkFURV9FVkVOVFMgKi8KICApKSA6IF9jcmVhdGVDb21tZW50Vk5vZGUoInYtaWYiLCB0cnVlKV0pXSldLCA2NAogIC8qIFNUQUJMRV9GUkFHTUVOVCAqLwogICk7Cn0="},{"version":3,"sources":["/Users/msaqib/vue-ChatProject/src/components/Chat.vue"],"names":[],"mappings":";;AACK,WAAM;;;AACF,WAAM;;;AAaR,EAAA,GAAG,EAAC,Q;AAAS,WAAM;;;AAEnB,WAAM;;;AACJ,WAAM;;;AAGC,EAAA,IAAI,EAAC;;;;;;;uBApBrB,YAAA,CAAA,SAAA,EAAA,IAAA,EAAA,CAAA,YAAA,CAYQ,KAZR,EAAA,UAAA,EAYQ,CAXJ,YAAA,CAUM,KAVN,EAAA,UAAA,EAUM,E,kBATJ,YAAA,CAQU,SARV,EAQU,IARV,EAFN,WAAA,CAG+D,MAAA,CAAA,QAH/D,EAAA,gBAGyD;AAAA;;AAAA,QAAxC,EAAwC,QAAxC,EAAwC;AAAA,QAApC,IAAoC,QAApC,IAAoC;AAAA,QAA9B,YAA8B,QAA9B,YAA8B;AAAA,QAAhB,QAAgB,QAAhB,QAAgB;AAAA,QAAN,MAAM,QAAN,MAAM;yBADnD,YAAA,CAQU,kBARV,EAQU;AANP,MAAA,GAAG,EAAE,EAME;AALP,MAAA,IAAI,EAAE,QAKC;AAJP,mBAAW,YAIJ;AAHP,MAAA,MAAM,EAAE,MAAM,sBAAK,MAAA,CAAA,IAAL,iDAAK,aAAM,GAAX;AAGP,KARV,E;AAFN,iBAAA,QAAA,CASQ;AAAA,eAAU,CATlB,gBAAA,CAAA,gBAAA,CASW,IATX,CAAA,EASe;AAAA;AATf,SASkB,CAAV;AAAA,OATR,C;AAAA,MAAA,CAAA,EAAA;AAAA;;KAEM,E;;AAAA,M,+BAAA,C;GAFN,CAEM,E;;AAAA,GASI,EAVN,CAWI,CAZR,CAAA,EAcE,YAAA,CAAkC,KAAlC,EAAA,UAAA,EAAkC,IAAlC,EAAkC;AAAA;AAAlC,GAdF,EAgBE,YAAA,CASM,KATN,EAAA,UAAA,EASM,CARJ,YAAA,CAOM,KAPN,EAAA,UAAA,EAOM,CANQ,MAAA,CAAA,O,kBAAZ,YAAA,CAKO,MALP,EAKO;AAvBb,IAAA,GAAA,EAAA,CAuBa;AALe,IAAA,QAAM,EAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAlBlC,cAAA,CAAA;AAAA,aAkB4C,MAAA,CAAA,IAAA,IAAA,MAAA,CAAA,IAAA,OAAA,MAAA,YAlB5C;AAAA,KAAA,EAkBgD,CAAA,SAAA,CAlBhD,CAkBkC;AAKrB,GALP,E,iBACE,YAAA,CAA0D,OAA1D,EAA0D;AAnBlE,2BAAA,MAAA,CAAA,CAAA,CAAA,KAAA,MAAA,CAAA,CAAA,CAAA,GAAA,UAAA,MAAA;AAAA,aAmBwB,MAAA,CAAA,OAAA,GAAO,MAnB/B;AAAA,KAAA,CAmBkE;AAAjC,IAAA,WAAW,EAAC,SAAqB;AAAX,IAAA,QAAQ,EAAR;AAAW,GAA1D,E,IAAA,E;;AAAA,G,iBAAgB,MAAA,CAAA,O,KAChB,YAAA,CAES,QAFT,EAAA,UAAA,EAES,CADP,YAAA,CAAY,mBAAZ,CACO,CAFT,C,CAFF,E;;AAAA,G,IAlBN,mBAAA,CAAA,MAAA,EAAA,IAAA,CAwBU,CAPN,CAQI,CATN,CAhBF,CAAA,E;;AAAA,G","sourcesContent":["<template>\n  <div class=\"container-sm mt-20\">\n    <div class=\"mx-5\">\n      <Message\n        v-for=\"{ id, text, userPhotoURL, userName, userId } in messages\"\n        :key=\"id\"\n        :name=\"userName\"\n        :photo-url=\"userPhotoURL\"\n        :sender=\"userId === user?.uid\"\n      >\n        {{ text }}\n      </Message>\n    </div>\n  </div>\n\n  <div ref=\"bottom\" class=\"mt-20\" />\n\n  <div class=\"bottom\">\n    <div class=\"container-sm\">\n      <form v-if=\"isLogin\" @submit.prevent=\"send\">\n        <input v-model=\"message\" placeholder=\"Message\" required />\n        <button type=\"submit\">\n          <SendIcon />\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, watch, nextTick } from 'vue'\nimport { useAuth, useChat } from '@/DataSource'\n\nimport SendIcon from './SendIcon.vue'\nimport Message from './Message.vue'\n\nexport default {\n  components: { Message, SendIcon },\n  setup() {\n    const { user, isLogin } = useAuth()\n    const { messages, sendMessage } = useChat()\n\n    const bottom = ref(null)\n    watch(\n      messages,\n      () => {\n        nextTick(() => {\n          bottom.value?.scrollIntoView({ behavior: 'smooth' })\n        })\n      },\n      { deep: true }\n    )\n\n    const message = ref('')\n    const send = () => {\n      sendMessage(message.value)\n      message.value = ''\n    }\n\n    return { user, isLogin, messages, bottom, message, send }\n  }\n}\n</script>\n"],"sourceRoot":""}]}