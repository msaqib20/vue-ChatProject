{"remainingRequest":"/Users/msaqib/vue-ChatProject/node_modules/babel-loader/lib/index.js!/Users/msaqib/vue-ChatProject/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/msaqib/vue-ChatProject/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/msaqib/vue-ChatProject/src/components/Chat.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/msaqib/vue-ChatProject/src/components/Chat.vue","mtime":1626831848300},{"path":"/Users/msaqib/vue-ChatProject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msaqib/vue-ChatProject/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/msaqib/vue-ChatProject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msaqib/vue-ChatProject/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCB3YXRjaCwgbmV4dFRpY2sgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VBdXRoLCB1c2VDaGF0IH0gZnJvbSAnQC9EYXRhU291cmNlJzsKaW1wb3J0IFNlbmRJY29uIGZyb20gJy4vU2VuZEljb24udnVlJzsKaW1wb3J0IE1lc3NhZ2UgZnJvbSAnLi9NZXNzYWdlLnZ1ZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBjb21wb25lbnRzOiB7CiAgICBNZXNzYWdlOiBNZXNzYWdlLAogICAgU2VuZEljb246IFNlbmRJY29uCiAgfSwKICBzZXR1cDogZnVuY3Rpb24gc2V0dXAoKSB7CiAgICB2YXIgX3VzZUF1dGggPSB1c2VBdXRoKCksCiAgICAgICAgdXNlciA9IF91c2VBdXRoLnVzZXIsCiAgICAgICAgaXNMb2dpbiA9IF91c2VBdXRoLmlzTG9naW47CgogICAgdmFyIF91c2VDaGF0ID0gdXNlQ2hhdCgpLAogICAgICAgIG1lc3NhZ2VzID0gX3VzZUNoYXQubWVzc2FnZXMsCiAgICAgICAgc2VuZE1lc3NhZ2UgPSBfdXNlQ2hhdC5zZW5kTWVzc2FnZTsKCiAgICB2YXIgYm90dG9tID0gcmVmKG51bGwpOwogICAgd2F0Y2gobWVzc2FnZXMsIGZ1bmN0aW9uICgpIHsKICAgICAgbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICAgIHZhciBfYm90dG9tJHZhbHVlOwoKICAgICAgICAoX2JvdHRvbSR2YWx1ZSA9IGJvdHRvbS52YWx1ZSkgPT09IG51bGwgfHwgX2JvdHRvbSR2YWx1ZSA9PT0gdm9pZCAwID8gdm9pZCAwIDogX2JvdHRvbSR2YWx1ZS5zY3JvbGxJbnRvVmlldyh7CiAgICAgICAgICBiZWhhdmlvcjogJ3Ntb290aCcKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LCB7CiAgICAgIGRlZXA6IHRydWUKICAgIH0pOwogICAgdmFyIG1lc3NhZ2UgPSByZWYoJycpOwoKICAgIHZhciBzZW5kID0gZnVuY3Rpb24gc2VuZCgpIHsKICAgICAgc2VuZE1lc3NhZ2UobWVzc2FnZS52YWx1ZSk7CiAgICAgIG1lc3NhZ2UudmFsdWUgPSAnJzsKICAgIH07CgogICAgcmV0dXJuIHsKICAgICAgdXNlcjogdXNlciwKICAgICAgaXNMb2dpbjogaXNMb2dpbiwKICAgICAgbWVzc2FnZXM6IG1lc3NhZ2VzLAogICAgICBib3R0b206IGJvdHRvbSwKICAgICAgbWVzc2FnZTogbWVzc2FnZSwKICAgICAgc2VuZDogc2VuZAogICAgfTsKICB9Cn07"},{"version":3,"sources":["/Users/msaqib/vue-ChatProject/src/components/Chat.vue"],"names":[],"mappings":"AA8BA,SAAS,GAAT,EAAc,KAAd,EAAqB,QAArB,QAAqC,KAArC;AACA,SAAS,OAAT,EAAkB,OAAlB,QAAiC,cAAjC;AAEA,OAAO,QAAP,MAAqB,gBAArB;AACA,OAAO,OAAP,MAAoB,eAApB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,OAAO,EAAP,OAAF;AAAW,IAAA,QAAO,EAAP;AAAX,GADC;AAEb,EAAA,KAFa,mBAEL;AACN,mBAA0B,OAAO,EAAjC;AAAA,QAAQ,IAAR,YAAQ,IAAR;AAAA,QAAc,OAAd,YAAc,OAAd;;AACA,mBAAkC,OAAO,EAAzC;AAAA,QAAQ,QAAR,YAAQ,QAAR;AAAA,QAAkB,WAAlB,YAAkB,WAAlB;;AAEA,QAAM,MAAK,GAAI,GAAG,CAAC,IAAD,CAAlB;AACA,IAAA,KAAK,CACH,QADG,EAEH,YAAM;AACJ,MAAA,QAAQ,CAAC,YAAM;AAAA;;AACb,yBAAA,MAAM,CAAC,KAAP,gEAAc,cAAd,CAA6B;AAAE,UAAA,QAAQ,EAAE;AAAZ,SAA7B;AACD,OAFO,CAAR;AAGD,KANE,EAOH;AAAE,MAAA,IAAI,EAAE;AAAR,KAPG,CAAL;AAUA,QAAM,OAAM,GAAI,GAAG,CAAC,EAAD,CAAnB;;AACA,QAAM,IAAG,GAAI,SAAP,IAAO,GAAM;AACjB,MAAA,WAAW,CAAC,OAAO,CAAC,KAAT,CAAX;AACA,MAAA,OAAO,CAAC,KAAR,GAAgB,EAAhB;AACF,KAHA;;AAKA,WAAO;AAAE,MAAA,IAAI,EAAJ,IAAF;AAAQ,MAAA,OAAO,EAAP,OAAR;AAAiB,MAAA,QAAQ,EAAR,QAAjB;AAA2B,MAAA,MAAM,EAAN,MAA3B;AAAmC,MAAA,OAAO,EAAP,OAAnC;AAA4C,MAAA,IAAG,EAAH;AAA5C,KAAP;AACF;AAxBa,CAAf","sourcesContent":["<template>\n  <div class=\"container-sm mt-20\">\n    <div class=\"mx-5\">\n      <Message\n        v-for=\"{ id, text, userPhotoURL, userName, userId } in messages\"\n        :key=\"id\"\n        :name=\"userName\"\n        :photo-url=\"userPhotoURL\"\n        :sender=\"userId === user?.uid\"\n      >\n        {{ text }}\n      </Message>\n    </div>\n  </div>\n\n  <div ref=\"bottom\" class=\"mt-20\" />\n\n  <div class=\"bottom\">\n    <div class=\"container-sm\">\n      <form v-if=\"isLogin\" @submit.prevent=\"send\">\n        <input v-model=\"message\" placeholder=\"Message\" required />\n        <button type=\"submit\">\n          <SendIcon />\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, watch, nextTick } from 'vue'\nimport { useAuth, useChat } from '@/DataSource'\n\nimport SendIcon from './SendIcon.vue'\nimport Message from './Message.vue'\n\nexport default {\n  components: { Message, SendIcon },\n  setup() {\n    const { user, isLogin } = useAuth()\n    const { messages, sendMessage } = useChat()\n\n    const bottom = ref(null)\n    watch(\n      messages,\n      () => {\n        nextTick(() => {\n          bottom.value?.scrollIntoView({ behavior: 'smooth' })\n        })\n      },\n      { deep: true }\n    )\n\n    const message = ref('')\n    const send = () => {\n      sendMessage(message.value)\n      message.value = ''\n    }\n\n    return { user, isLogin, messages, bottom, message, send }\n  }\n}\n</script>\n"],"sourceRoot":""}]}