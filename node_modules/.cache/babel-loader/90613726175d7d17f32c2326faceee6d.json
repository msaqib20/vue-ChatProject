{"remainingRequest":"/Users/msaqib/vue-ChatProject/node_modules/babel-loader/lib/index.js!/Users/msaqib/vue-ChatProject/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/msaqib/vue-ChatProject/node_modules/vue-loader-v16/dist/index.js??ref--0-1!/Users/msaqib/vue-ChatProject/src/components/Chat.vue?vue&type=script&lang=js","dependencies":[{"path":"/Users/msaqib/vue-ChatProject/src/components/Chat.vue","mtime":1609706491000},{"path":"/Users/msaqib/vue-ChatProject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msaqib/vue-ChatProject/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Users/msaqib/vue-ChatProject/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/msaqib/vue-ChatProject/node_modules/vue-loader-v16/dist/index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0IHsgcmVmLCB3YXRjaCwgbmV4dFRpY2sgfSBmcm9tICd2dWUnOwppbXBvcnQgeyB1c2VBdXRoLCB1c2VDaGF0IH0gZnJvbSAnQC9maXJlYmFzZSc7CmltcG9ydCBTZW5kSWNvbiBmcm9tICcuL1NlbmRJY29uLnZ1ZSc7CmltcG9ydCBNZXNzYWdlIGZyb20gJy4vTWVzc2FnZS52dWUnOwpleHBvcnQgZGVmYXVsdCB7CiAgY29tcG9uZW50czogewogICAgTWVzc2FnZTogTWVzc2FnZSwKICAgIFNlbmRJY29uOiBTZW5kSWNvbgogIH0sCiAgc2V0dXA6IGZ1bmN0aW9uIHNldHVwKCkgewogICAgdmFyIF91c2VBdXRoID0gdXNlQXV0aCgpLAogICAgICAgIHVzZXIgPSBfdXNlQXV0aC51c2VyLAogICAgICAgIGlzTG9naW4gPSBfdXNlQXV0aC5pc0xvZ2luOwoKICAgIHZhciBfdXNlQ2hhdCA9IHVzZUNoYXQoKSwKICAgICAgICBtZXNzYWdlcyA9IF91c2VDaGF0Lm1lc3NhZ2VzLAogICAgICAgIHNlbmRNZXNzYWdlID0gX3VzZUNoYXQuc2VuZE1lc3NhZ2U7CgogICAgdmFyIGJvdHRvbSA9IHJlZihudWxsKTsKICAgIHdhdGNoKG1lc3NhZ2VzLCBmdW5jdGlvbiAoKSB7CiAgICAgIG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgICB2YXIgX2JvdHRvbSR2YWx1ZTsKCiAgICAgICAgKF9ib3R0b20kdmFsdWUgPSBib3R0b20udmFsdWUpID09PSBudWxsIHx8IF9ib3R0b20kdmFsdWUgPT09IHZvaWQgMCA/IHZvaWQgMCA6IF9ib3R0b20kdmFsdWUuc2Nyb2xsSW50b1ZpZXcoewogICAgICAgICAgYmVoYXZpb3I6ICdzbW9vdGgnCiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwgewogICAgICBkZWVwOiB0cnVlCiAgICB9KTsKICAgIHZhciBtZXNzYWdlID0gcmVmKCcnKTsKCiAgICB2YXIgc2VuZCA9IGZ1bmN0aW9uIHNlbmQoKSB7CiAgICAgIHNlbmRNZXNzYWdlKG1lc3NhZ2UudmFsdWUpOwogICAgICBtZXNzYWdlLnZhbHVlID0gJyc7CiAgICB9OwoKICAgIHJldHVybiB7CiAgICAgIHVzZXI6IHVzZXIsCiAgICAgIGlzTG9naW46IGlzTG9naW4sCiAgICAgIG1lc3NhZ2VzOiBtZXNzYWdlcywKICAgICAgYm90dG9tOiBib3R0b20sCiAgICAgIG1lc3NhZ2U6IG1lc3NhZ2UsCiAgICAgIHNlbmQ6IHNlbmQKICAgIH07CiAgfQp9Ow=="},{"version":3,"sources":["/Users/msaqib/vue-ChatProject/src/components/Chat.vue"],"names":[],"mappings":"AA8BA,SAAS,GAAT,EAAc,KAAd,EAAqB,QAArB,QAAqC,KAArC;AACA,SAAS,OAAT,EAAkB,OAAlB,QAAiC,YAAjC;AAEA,OAAO,QAAP,MAAqB,gBAArB;AACA,OAAO,OAAP,MAAoB,eAApB;AAEA,eAAe;AACb,EAAA,UAAU,EAAE;AAAE,IAAA,OAAO,EAAP,OAAF;AAAW,IAAA,QAAO,EAAP;AAAX,GADC;AAEb,EAAA,KAFa,mBAEL;AACN,mBAA0B,OAAO,EAAjC;AAAA,QAAQ,IAAR,YAAQ,IAAR;AAAA,QAAc,OAAd,YAAc,OAAd;;AACA,mBAAkC,OAAO,EAAzC;AAAA,QAAQ,QAAR,YAAQ,QAAR;AAAA,QAAkB,WAAlB,YAAkB,WAAlB;;AAEA,QAAM,MAAK,GAAI,GAAG,CAAC,IAAD,CAAlB;AACA,IAAA,KAAK,CACH,QADG,EAEH,YAAM;AACJ,MAAA,QAAQ,CAAC,YAAM;AAAA;;AACb,yBAAA,MAAM,CAAC,KAAP,gEAAc,cAAd,CAA6B;AAAE,UAAA,QAAQ,EAAE;AAAZ,SAA7B;AACD,OAFO,CAAR;AAGD,KANE,EAOH;AAAE,MAAA,IAAI,EAAE;AAAR,KAPG,CAAL;AAUA,QAAM,OAAM,GAAI,GAAG,CAAC,EAAD,CAAnB;;AACA,QAAM,IAAG,GAAI,SAAP,IAAO,GAAM;AACjB,MAAA,WAAW,CAAC,OAAO,CAAC,KAAT,CAAX;AACA,MAAA,OAAO,CAAC,KAAR,GAAgB,EAAhB;AACF,KAHA;;AAKA,WAAO;AAAE,MAAA,IAAI,EAAJ,IAAF;AAAQ,MAAA,OAAO,EAAP,OAAR;AAAiB,MAAA,QAAQ,EAAR,QAAjB;AAA2B,MAAA,MAAM,EAAN,MAA3B;AAAmC,MAAA,OAAO,EAAP,OAAnC;AAA4C,MAAA,IAAG,EAAH;AAA5C,KAAP;AACF;AAxBa,CAAf","sourcesContent":["<template>\n  <div class=\"container-sm mt-20\">\n    <div class=\"mx-5\">\n      <Message\n        v-for=\"{ id, text, userPhotoURL, userName, userId } in messages\"\n        :key=\"id\"\n        :name=\"userName\"\n        :photo-url=\"userPhotoURL\"\n        :sender=\"userId === user?.uid\"\n      >\n        {{ text }}\n      </Message>\n    </div>\n  </div>\n\n  <div ref=\"bottom\" class=\"mt-20\" />\n\n  <div class=\"bottom\">\n    <div class=\"container-sm\">\n      <form v-if=\"isLogin\" @submit.prevent=\"send\">\n        <input v-model=\"message\" placeholder=\"Message\" required />\n        <button type=\"submit\">\n          <SendIcon />\n        </button>\n      </form>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref, watch, nextTick } from 'vue'\nimport { useAuth, useChat } from '@/firebase'\n\nimport SendIcon from './SendIcon.vue'\nimport Message from './Message.vue'\n\nexport default {\n  components: { Message, SendIcon },\n  setup() {\n    const { user, isLogin } = useAuth()\n    const { messages, sendMessage } = useChat()\n\n    const bottom = ref(null)\n    watch(\n      messages,\n      () => {\n        nextTick(() => {\n          bottom.value?.scrollIntoView({ behavior: 'smooth' })\n        })\n      },\n      { deep: true }\n    )\n\n    const message = ref('')\n    const send = () => {\n      sendMessage(message.value)\n      message.value = ''\n    }\n\n    return { user, isLogin, messages, bottom, message, send }\n  }\n}\n</script>\n"],"sourceRoot":""}]}